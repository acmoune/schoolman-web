{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/data/apps/opensource/SchoolMan/web-client/pages/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query getDepartments {\\n    departments {\\n      id\\n      title\\n      programs {\\n        id \\n        title \\n        description \\n        logo \\n        link \\n        trainings { id title description banner link }\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport * as React from 'react';\nimport Container from '../components/Container';\nimport MainLayout from '../layouts/MainLayout';\nimport DepartmentList from '../components/catalog/DepartmentList';\nimport withApollo from '../lib/with-apollo';\nimport withAuth from '../lib/with-auth';\nimport { gql } from 'apollo-boost';\nvar GET_DEPARTMENTS_QUERY = gql(_templateObject());\n\nfunction IndexPage(_ref) {\n  var departments = _ref.departments;\n  return __jsx(MainLayout, {\n    title: \"Institute of Management and Information Technology - IMIT\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: \"/images/banner.jpg\",\n    alt: \"\",\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: {\n      margin: '15px 0px',\n      fontSize: '11pt',\n      color: '#000000'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Start your journey here. Browse our training courses. They are gouped by departments, and each department offer a wide variety of programs. Pick up the right program for you to see the available trainings. Do not hesitate to \", __jsx(\"a\", {\n    href: \"https://imitpford.org/contact/\",\n    target: \"_blank\",\n    style: {\n      textDecoration: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"contact us\"), \" if you need assistance to choose the program that best fit you.\"), __jsx(DepartmentList, {\n    departments: departments,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })));\n}\n\nIndexPage.getInitialProps = function _callee(_ref2) {\n  var apolloClient, token, _ref3, departments;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          apolloClient = _ref2.apolloClient, token = _ref2.token;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(apolloClient.query({\n            query: GET_DEPARTMENTS_QUERY,\n            context: {\n              headers: {\n                'schoolman_token': token\n              }\n            }\n          }));\n\n        case 3:\n          _ref3 = _context.sent;\n          departments = _ref3.data.departments;\n          return _context.abrupt(\"return\", {\n            departments: departments,\n            authRequired: false\n          });\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default withApollo(withAuth(IndexPage));","map":{"version":3,"sources":["/data/apps/opensource/SchoolMan/web-client/pages/index.tsx"],"names":["React","Container","MainLayout","DepartmentList","withApollo","withAuth","gql","GET_DEPARTMENTS_QUERY","IndexPage","departments","width","margin","fontSize","color","textDecoration","getInitialProps","apolloClient","token","query","context","headers","data","authRequired"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,SAASC,GAAT,QAAoB,cAApB;AAGA,IAAMC,qBAAqB,GAAGD,GAAH,mBAA3B;;AAiBA,SAASE,SAAT,OAAoE;AAAA,MAA/CC,WAA+C,QAA/CA,WAA+C;AAClE,SACE,MAAC,UAAD;AAAY,IAAA,KAAK,EAAC,2DAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,oBAAT;AAA8B,IAAA,GAAG,EAAC,EAAlC;AAAqC,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,MAAM,EAAE,UAAT;AAAqBC,MAAAA,QAAQ,EAAE,MAA/B;AAAuCC,MAAAA,KAAK,EAAE;AAA9C,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0OAGqB;AAAG,IAAA,IAAI,EAAC,gCAAR;AAAyC,IAAA,MAAM,EAAC,QAAhD;AAAyD,IAAA,KAAK,EAAE;AAAEC,MAAAA,cAAc,EAAE;AAAlB,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHrB,qEADF,EAQE,MAAC,cAAD;AAAgB,IAAA,WAAW,EAAEL,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAHF,CADF;AAgBD;;AAEDD,SAAS,CAACO,eAAV,GAA4B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASC,UAAAA,YAAT,SAASA,YAAT,EAAuBC,KAAvB,SAAuBA,KAAvB;AAAA;AAAA,2CACaD,YAAY,CAACE,KAAb,CAAmB;AACxDA,YAAAA,KAAK,EAAEX,qBADiD;AAExDY,YAAAA,OAAO,EAAE;AAAEC,cAAAA,OAAO,EAAE;AAAE,mCAAmBH;AAArB;AAAX;AAF+C,WAAnB,CADb;;AAAA;AAAA;AACVR,UAAAA,WADU,SAClBY,IADkB,CACVZ,WADU;AAAA,2CAMlB;AAAEA,YAAAA,WAAW,EAAXA,WAAF;AAAea,YAAAA,YAAY,EAAE;AAA7B,WANkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA5B;;AASA,eAAelB,UAAU,CAACC,QAAQ,CAACG,SAAD,CAAT,CAAzB","sourcesContent":["import * as React from 'react'\nimport Container from '../components/Container'\nimport MainLayout from '../layouts/MainLayout'\nimport DepartmentList from '../components/catalog/DepartmentList'\nimport withApollo from '../lib/with-apollo'\nimport withAuth from '../lib/with-auth'\nimport { gql } from 'apollo-boost'\nimport IDepartment from '../server/src/models/catalog/Department'\n\nconst GET_DEPARTMENTS_QUERY = gql`\n  query getDepartments {\n    departments {\n      id\n      title\n      programs {\n        id \n        title \n        description \n        logo \n        link \n        trainings { id title description banner link }\n      }\n    }\n  }\n`\n\nfunction IndexPage({ departments }: { departments: IDepartment[] }) {\n  return (\n    <MainLayout title=\"Institute of Management and Information Technology - IMIT\">\n      <img src=\"/images/banner.jpg\" alt=\"\" style={{width: '100%'}} />\n\n      <Container>\n        <div style={{margin: '15px 0px', fontSize: '11pt', color: '#000000'}}>\n          Start your journey here. Browse our training courses. They are gouped by departments, and each department\n          offer a wide variety of programs. Pick up the right program for you to see the available trainings.\n          Do not hesitate to <a href=\"https://imitpford.org/contact/\" target=\"_blank\" style={{ textDecoration: 'none' }}>contact us</a> if you need assistance to choose the program that \n          best fit you.\n        </div>\n\n        <DepartmentList departments={departments} />\n      </Container>\n    </MainLayout>\n  )\n}\n\nIndexPage.getInitialProps = async ({ apolloClient, token }: any) => {\n  const { data: { departments }} = await apolloClient.query({\n    query: GET_DEPARTMENTS_QUERY,\n    context: { headers: { 'schoolman_token': token } }\n  })\n\n  return ({ departments, authRequired: false })\n}\n\nexport default withApollo(withAuth(IndexPage))\n"]},"metadata":{},"sourceType":"module"}