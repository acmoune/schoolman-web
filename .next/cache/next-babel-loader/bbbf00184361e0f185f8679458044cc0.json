{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport MainLayout from '../layouts/MainLayout';\nimport Container from '../components/Container';\nimport { Typography, Paper, TextField, Button } from '@material-ui/core';\nimport axios from 'axios';\nimport validator from 'validator';\nimport { apiBaseUrl } from '../app.config';\nimport Alert from '../components/Alert';\nimport { authCookieName } from '../app.config';\nimport { getCookieFromBrowser } from '../lib/cookie';\nimport { useAuth } from '../components/AuthContext';\nimport withApollo from '../lib/with-apollo';\nimport withAuth from '../lib/with-auth';\n\nfunction ResetPasswordPage() {\n  var _useAuth = useAuth(),\n      currentUser = _useAuth.currentUser;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      oldPassword = _React$useState2[0],\n      setOldPassword = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      newPassword = _React$useState4[0],\n      setNewPassword = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      passwordConfirmation = _React$useState6[0],\n      setPasswordConfirmation = _React$useState6[1];\n\n  var _React$useState7 = React.useState({\n    oldPasswordErrors: [],\n    newPasswordErrors: [],\n    passwordConfirmationErrors: []\n  }),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      inputErrors = _React$useState8[0],\n      setInputErrors = _React$useState8[1];\n\n  var _React$useState9 = React.useState({\n    open: false,\n    level: 'info',\n    message: ''\n  }),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      alertOptions = _React$useState10[0],\n      setAlertOptions = _React$useState10[1];\n\n  var validateData = function validateData() {\n    var oldPasswordErrors = [];\n    var newPasswordErrors = [];\n    var passwordConfirmationErrors = [];\n    if (validator.isEmpty(oldPassword)) oldPasswordErrors.push('The current password is required');\n    if (validator.isEmpty(newPassword)) newPasswordErrors.push('The new password is required');\n    if (!validator.isLength(newPassword, {\n      min: 6\n    })) newPasswordErrors.push('The password should have at least 6 charactars');\n    if (newPassword !== passwordConfirmation) passwordConfirmationErrors.push('Confirmation does not match the new password');\n    var isValid = oldPasswordErrors.length == 0 && newPasswordErrors.length == 0 && passwordConfirmationErrors.length == 0;\n    var errors = {\n      oldPasswordErrors: oldPasswordErrors,\n      newPasswordErrors: newPasswordErrors,\n      passwordConfirmationErrors: passwordConfirmationErrors\n    };\n    return {\n      isValid: isValid,\n      errors: errors\n    };\n  };\n\n  var submit = function submit(email, cb) {\n    var _validateData = validateData(),\n        isValid = _validateData.isValid,\n        errors = _validateData.errors;\n\n    setInputErrors(errors);\n\n    if (!isValid && errors) {\n      return cb('Please enter valid inputs');\n    }\n\n    return axios.patch(\"\".concat(apiBaseUrl, \"/accountPassword\"), {\n      email: email,\n      oldPassword: oldPassword,\n      newPassword: newPassword\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        'schoolman_token': getCookieFromBrowser(authCookieName)\n      }\n    }).then(function () {\n      return cb();\n    })[\"catch\"](function (err) {\n      console.log(err);\n      cb(err.response.data.message || err.response.statusText);\n    });\n  };\n\n  return __jsx(MainLayout, {\n    title: \"Reset Password\"\n  }, __jsx(Container, {\n    maxWidth: 400\n  }, __jsx(\"div\", {\n    style: {\n      marginTop: 50,\n      marginBottom: 20\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\",\n    color: \"textSecondary\",\n    style: {\n      textAlign: 'center',\n      paddingBottom: 15\n    }\n  }, \"Reset Password\"), __jsx(Paper, {\n    style: {\n      padding: 15\n    }\n  }, __jsx(\"div\", null, currentUser && __jsx(\"div\", null, __jsx(TextField, {\n    id: \"oldPassword\",\n    name: \"oldPassword\",\n    label: \"Current Password\",\n    type: \"password\",\n    fullWidth: true,\n    value: oldPassword,\n    onChange: function onChange(e) {\n      return setOldPassword(e.target.value);\n    },\n    error: inputErrors.oldPasswordErrors.length > 0,\n    helperText: inputErrors.oldPasswordErrors.join(', ')\n  }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(TextField, {\n    id: \"newPassword\",\n    name: \"newPassword\",\n    label: \"New Password\",\n    type: \"password\",\n    fullWidth: true,\n    value: newPassword,\n    onChange: function onChange(e) {\n      return setNewPassword(e.target.value);\n    },\n    error: inputErrors.newPasswordErrors.length > 0,\n    helperText: inputErrors.newPasswordErrors.join(', ')\n  }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(TextField, {\n    id: \"passwordConfirmation\",\n    name: \"passwordConfirmation\",\n    label: \"Password Confirmation\",\n    type: \"password\",\n    fullWidth: true,\n    value: passwordConfirmation,\n    onChange: function onChange(e) {\n      return setPasswordConfirmation(e.target.value);\n    },\n    error: inputErrors.passwordConfirmationErrors.length > 0,\n    helperText: inputErrors.passwordConfirmationErrors.join(', ')\n  }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(Button, {\n    color: \"secondary\",\n    size: \"large\",\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: function onClick() {\n      return submit(currentUser.email, function (errMessage) {\n        if (errMessage) return setAlertOptions({\n          open: true,\n          level: 'error',\n          message: errMessage\n        });\n        setOldPassword('');\n        setNewPassword('');\n        setPasswordConfirmation('');\n        setAlertOptions({\n          open: true,\n          level: 'info',\n          message: 'Password updated successfully'\n        });\n      });\n    }\n  }, \"Submit\"))))), __jsx(\"div\", {\n    style: {\n      color: '#808080',\n      fontSize: '9pt',\n      padding: 10\n    }\n  }, \"Forgot your current password ? Please contact Administration.\")), __jsx(Alert, {\n    level: alertOptions.level,\n    message: alertOptions.message,\n    open: alertOptions.open,\n    onClose: function onClose() {\n      return setAlertOptions({\n        open: false,\n        level: alertOptions.level,\n        message: alertOptions.message\n      });\n    }\n  }));\n}\n\nResetPasswordPage.getInitialProps = function () {\n  return {\n    authRequired: true\n  };\n};\n\nexport default withApollo(withAuth(ResetPasswordPage));","map":{"version":3,"sources":["/data/apps/school-manager-client/pages/resetPassword.tsx"],"names":["React","MainLayout","Container","Typography","Paper","TextField","Button","axios","validator","apiBaseUrl","Alert","authCookieName","getCookieFromBrowser","useAuth","withApollo","withAuth","ResetPasswordPage","currentUser","useState","oldPassword","setOldPassword","newPassword","setNewPassword","passwordConfirmation","setPasswordConfirmation","oldPasswordErrors","newPasswordErrors","passwordConfirmationErrors","inputErrors","setInputErrors","open","level","message","alertOptions","setAlertOptions","validateData","isEmpty","push","isLength","min","isValid","length","errors","submit","email","cb","patch","headers","then","err","console","log","response","data","statusText","marginTop","marginBottom","textAlign","paddingBottom","padding","e","target","value","join","errMessage","color","fontSize","getInitialProps","authRequired"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MainLayout from '../layouts/MainLayout'\nimport Container from '../components/Container'\nimport { Typography, Paper, TextField, Button } from '@material-ui/core'\nimport axios from 'axios'\nimport validator from 'validator'\nimport { apiBaseUrl } from '../app.config'\nimport Alert, { AlertOptions } from '../components/Alert'\nimport { authCookieName } from '../app.config'\nimport { getCookieFromBrowser } from '../lib/cookie'\nimport { useAuth } from '../components/AuthContext'\nimport withApollo from '../lib/with-apollo'\nimport withAuth from '../lib/with-auth'\n\ntype InputErrors = { \n  oldPasswordErrors: string[], \n  newPasswordErrors: string[], \n  passwordConfirmationErrors: string[]\n}\n\nfunction ResetPasswordPage() {\n  const { currentUser } = useAuth()\n\n  const [oldPassword, setOldPassword] = React.useState<string>('')\n  const [newPassword, setNewPassword] = React.useState<string>('')\n  const [passwordConfirmation, setPasswordConfirmation] = React.useState<string>('')\n  const [inputErrors, setInputErrors] = React.useState<InputErrors>({ oldPasswordErrors: [], newPasswordErrors: [], passwordConfirmationErrors: [] })\n  const [alertOptions, setAlertOptions] = React.useState<AlertOptions>({ open: false, level: 'info', message: '' })\n\n  const validateData = (): { isValid: boolean, errors: InputErrors } => {\n    const oldPasswordErrors: string[] = []\n    const newPasswordErrors: string[] = []\n    const passwordConfirmationErrors: string[] = []\n\n    if (validator.isEmpty(oldPassword)) oldPasswordErrors.push('The current password is required')\n\n    if (validator.isEmpty(newPassword)) newPasswordErrors.push('The new password is required')\n    if (!validator.isLength(newPassword, { min: 6 })) newPasswordErrors.push('The password should have at least 6 charactars')\n\n    if (newPassword !== passwordConfirmation) passwordConfirmationErrors.push('Confirmation does not match the new password')\n\n    const isValid = oldPasswordErrors.length == 0 && newPasswordErrors.length == 0 && passwordConfirmationErrors.length == 0\n    const errors = { oldPasswordErrors, newPasswordErrors, passwordConfirmationErrors }\n    return ({ isValid, errors })\n  }\n\n  const submit = (email: string, cb: (errMessage?: string) => any) => {\n    const { isValid, errors } = validateData()\n    setInputErrors(errors)\n\n    if (!isValid && errors) {\n      return cb('Please enter valid inputs')\n    }\n\n    return axios.patch(`${apiBaseUrl}/accountPassword`, { email, oldPassword, newPassword }, {\n      headers: { \n        'Content-Type': 'application/json',\n        'schoolman_token': getCookieFromBrowser(authCookieName)\n      }\n    })\n      .then(() => cb())\n      .catch(err => { console.log(err); cb(err.response.data.message || err.response.statusText) })\n  }\n\n  return (\n    <MainLayout title=\"Reset Password\">\n      <Container maxWidth={400}>\n        <div style={{ marginTop: 50, marginBottom: 20 }}>\n          <Typography variant=\"h5\" color=\"textSecondary\" style={{ textAlign: 'center', paddingBottom: 15 }}>Reset Password</Typography>\n\n          <Paper style={{ padding: 15 }}>\n            <div>\n              {currentUser &&\n                <div> \n                  <TextField\n                    id=\"oldPassword\"\n                    name=\"oldPassword\"\n                    label=\"Current Password\"\n                    type=\"password\"\n                    fullWidth\n                    value={oldPassword}\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => setOldPassword(e.target.value)}\n                    error={inputErrors.oldPasswordErrors.length > 0}\n                    helperText={inputErrors.oldPasswordErrors.join(', ')}\n                  />\n    \n                  <br />\n                  <br />\n    \n                  <TextField\n                    id=\"newPassword\"\n                    name=\"newPassword\"\n                    label=\"New Password\"\n                    type=\"password\"\n                    fullWidth\n                    value={newPassword}\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewPassword(e.target.value)}\n                    error={inputErrors.newPasswordErrors.length > 0}\n                    helperText={inputErrors.newPasswordErrors.join(', ')}\n                  />\n    \n                  <br />\n                  <br />\n    \n                  <TextField\n                    id=\"passwordConfirmation\"\n                    name=\"passwordConfirmation\"\n                    label=\"Password Confirmation\"\n                    type=\"password\"\n                    fullWidth\n                    value={passwordConfirmation}\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => setPasswordConfirmation(e.target.value)}\n                    error={inputErrors.passwordConfirmationErrors.length > 0}\n                    helperText={inputErrors.passwordConfirmationErrors.join(', ')}\n                  />\n    \n                  <br />\n                  <br />\n                  <br />\n    \n                  <Button\n                    color=\"secondary\"\n                    size=\"large\"\n                    fullWidth\n                    variant=\"contained\"\n                    onClick={() => submit(currentUser.email, (errMessage) => {\n                      if (errMessage) return setAlertOptions({ open: true, level: 'error', message: errMessage })\n                      setOldPassword('')\n                      setNewPassword('')\n                      setPasswordConfirmation('')\n                      setAlertOptions({ open: true, level: 'info', message: 'Password updated successfully' })\n                    })}\n                  >\n                    Submit\n                  </Button>\n                </div>\n              }\n            </div>\n          </Paper>\n        </div>\n\n        <div style={{ color: '#808080', fontSize: '9pt', padding: 10 }}>\n          Forgot your current password ? Please contact Administration.\n        </div>\n      </Container>\n\n      <Alert \n        level={alertOptions.level}\n        message={alertOptions.message}\n        open={alertOptions.open}\n        onClose={() => setAlertOptions({ open: false, level: alertOptions.level, message: alertOptions.message })}\n      />\n    </MainLayout>\n  )\n}\n\nResetPasswordPage.getInitialProps = () => ({ authRequired: true }) \n\nexport default withApollo(withAuth(ResetPasswordPage))\n"]},"metadata":{},"sourceType":"module"}