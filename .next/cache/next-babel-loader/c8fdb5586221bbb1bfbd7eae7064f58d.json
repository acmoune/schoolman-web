{"ast":null,"code":"var _jsxFileName = \"/data/apps/school-manager-client/components/Bill.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Paper, Typography, Button } from '@material-ui/core';\nimport PDFIcon from '@material-ui/icons/PictureAsPdf';\nexport default function Bill(_ref) {\n  var bill = _ref.bill;\n\n  var statusColor = function statusColor() {\n    if (bill.status === 'Paid') return 'green';\n    return 'red';\n  };\n\n  return __jsx(Paper, {\n    style: {\n      padding: 10,\n      marginBottom: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      paddingBottom: 5,\n      marginBottom: 10,\n      borderBottom: '1px solid #DFDFDF'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: {\n      flexGrow: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"body1\",\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, bill.description), __jsx(\"div\", {\n    style: {\n      color: '#808080',\n      fontSize: '9pt'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Fee type:\"), \" \", bill.feeType, \", \\xA0\", __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Amount:\"), \" \", bill.amount, \" \\xA0\", bill.deadline && bill.status === 'NotPaid' && __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, \", Deadline:\"), \" \", bill.deadline))), __jsx(\"div\", {\n    style: {\n      color: '#808080',\n      fontSize: '9pt'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Status:\"), \" \\xA0\", __jsx(Typography, {\n    variant: \"body2\",\n    style: {\n      color: statusColor(),\n      display: 'inline'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, bill.status), \" \\xA0\", __jsx(Button, {\n    size: \"small\",\n    variant: \"contained\",\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(PDFIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), \" \\xA0 Print Bill\"))), __jsx(\"div\", {\n    style: {\n      color: '#808080',\n      marginBottom: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Payments\")), bill.payments.length > 0 ? bill.payments.map(function (p) {\n    return __jsx(\"div\", {\n      style: {\n        display: 'flex',\n        padding: '5px 0px',\n        borderTop: '1px solid #DFDFDF',\n        color: '#808080',\n        fontSize: '9pt'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      style: {\n        flexGrow: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"Amount:\"), \" \", p.amount, \", \\xA0\", __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Date:\"), \" \", p.date), __jsx(Button, {\n      size: \"small\",\n      variant: \"contained\",\n      color: \"secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, __jsx(PDFIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), \" \\xA0 Print Receipt\"));\n  }) : __jsx(\"div\", {\n    style: {\n      padding: '10px 0px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"(No payment)\"), __jsx(\"div\", {\n    style: {\n      color: '#808080',\n      fontSize: '9pt',\n      paddingTop: 5,\n      marginTop: 10,\n      borderTop: '1px solid #DFDFDF',\n      textAlign: 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Total paid:\"), \" \", bill.payments.map(function (p) {\n    return p.amount;\n  }).reduce(function (s, p) {\n    return s + p;\n  }, 0), \", \\xA0\", __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Remaining:\"), \" \", __jsx(\"span\", {\n    style: {\n      color: 'orange'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, Math.max(0, bill.amount - bill.payments.map(function (p) {\n    return p.amount;\n  }).reduce(function (s, p) {\n    return s + p;\n  }, 0)))));\n}","map":{"version":3,"sources":["/data/apps/school-manager-client/components/Bill.tsx"],"names":["React","Paper","Typography","Button","PDFIcon","Bill","bill","statusColor","status","padding","marginBottom","display","paddingBottom","borderBottom","flexGrow","description","color","fontSize","feeType","amount","deadline","payments","length","map","p","borderTop","date","paddingTop","marginTop","textAlign","reduce","s","Math","max"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { IBill } from '../server/src/models/accounts/Enrollment'\nimport { Paper, Typography, Button } from '@material-ui/core'\nimport PDFIcon from '@material-ui/icons/PictureAsPdf'\n\nexport default function Bill({ bill }: { bill: IBill }) {\n  const statusColor = () => {\n    if (bill.status === 'Paid') return 'green'\n    return 'red'\n  }\n\n  return (\n    <Paper style={{ padding: 10, marginBottom: 10 }}>\n      <div style={{ display: 'flex', paddingBottom: 5, marginBottom: 10, borderBottom: '1px solid #DFDFDF' }}>\n        <div style={{ flexGrow: 1 }}>\n          <Typography variant=\"body1\" color=\"secondary\">{bill.description}</Typography>\n\n          <div style={{ color: '#808080', fontSize: '9pt' }}>\n            <strong>Fee type:</strong> {bill.feeType}, &nbsp;\n            <strong>Amount:</strong> {bill.amount} &nbsp;\n            {bill.deadline && bill.status === 'NotPaid' && <span><strong>, Deadline:</strong> {bill.deadline}</span>}\n          </div>\n        </div>\n\n        <div style={{ color: '#808080', fontSize: '9pt' }}>\n          <strong>Status:</strong> &nbsp;\n          <Typography variant=\"body2\" style={{ color: statusColor(), display: 'inline' }}>{bill.status}</Typography> &nbsp;\n          <Button size=\"small\" variant=\"contained\" color=\"secondary\"><PDFIcon /> &nbsp; Print Bill</Button>\n        </div>\n      </div>\n\n      <div style={{ color: '#808080', marginBottom: 5 }}><strong>Payments</strong></div>\n      {bill.payments.length > 0 ? \n        bill.payments.map(p => (\n          <div style={{ display: 'flex', padding: '5px 0px', borderTop: '1px solid #DFDFDF', color: '#808080', fontSize: '9pt' }}>\n            <div style={{ flexGrow: 1 }}>\n              <strong>Amount:</strong> {p.amount}, &nbsp;\n              <strong>Date:</strong> {p.date}\n            </div>\n\n            <Button size=\"small\" variant=\"contained\" color=\"secondary\"><PDFIcon /> &nbsp; Print Receipt</Button>\n          </div>\n        )) :\n        <div style={{ padding: '10px 0px' }}>(No payment)</div>\n      }\n\n      <div style={{ color: '#808080', fontSize: '9pt', paddingTop: 5, marginTop: 10, borderTop: '1px solid #DFDFDF', textAlign: 'right' }}>\n        <strong>Total paid:</strong> {bill.payments.map(p => p.amount).reduce((s, p) => s + p, 0)}, &nbsp;\n        <strong>Remaining:</strong> <span style={{ color: 'orange' }}>{Math.max(0, bill.amount - (bill.payments.map(p => p.amount).reduce((s, p) => s + p, 0)))}</span>\n      </div>\n    </Paper>\n  )\n}"]},"metadata":{},"sourceType":"module"}