{"ast":null,"code":"var __jsx = React.createElement;\nimport * as React from 'react';\nimport Container from '../components/Container';\nimport MainLayout from '../layouts/MainLayout';\nimport DepartmentList from '../components/catalog/DepartmentList';\nimport withApollo from '../lib/with-apollo';\nimport withAuth from '../lib/with-auth';\nimport { gql } from 'apollo-boost';\nimport { Typography } from '@material-ui/core';\nconst GET_DEPARTMENTS_QUERY = gql`\n  query getDepartments {\n    departments {\n      id\n      title\n      programs {\n        id \n        title \n        description \n        logo \n        link \n        trainings { id title description banner link }\n      }\n    }\n  }\n`;\n\nfunction IndexPage({\n  departments\n}) {\n  return __jsx(MainLayout, {\n    title: \"SchoolMan - Your light Opensource School Manager\"\n  }, __jsx(\"img\", {\n    src: \"/images/banner.jpg\",\n    alt: \"\",\n    style: {\n      width: '100%'\n    }\n  }), __jsx(Container, null, __jsx(Typography, {\n    variant: \"h4\",\n    color: \"primary\",\n    style: {\n      textAlign: 'center',\n      marginTop: 30\n    }\n  }, \"All Training Programs\"), __jsx(DepartmentList, {\n    departments: departments\n  })));\n}\n\nIndexPage.getInitialProps = async ({\n  apolloClient,\n  token\n}) => {\n  const {\n    data: {\n      departments\n    }\n  } = await apolloClient.query({\n    query: GET_DEPARTMENTS_QUERY,\n    context: {\n      headers: {\n        'schoolman_token': token\n      }\n    }\n  });\n  return {\n    departments,\n    authRequired: false\n  };\n};\n\nexport default withApollo(withAuth(IndexPage));","map":null,"metadata":{},"sourceType":"module"}