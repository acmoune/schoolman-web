{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"1rew\":function(n,t,e){\"use strict\";e.r(t);var r=e(\"ln6h\"),l=e.n(r),o=e(\"O40h\"),a=e(\"rt45\"),i=e(\"q1tI\"),s=e.n(i),u=e(\"rbhw\"),c=e(\"LIIV\"),d=e(\"BMua\"),m=e(\"kKAo\"),p=e(\"ofer\"),v=s.a.createElement;function y(n){var t=n.enrollment;return v(m.a,{style:{padding:10,display:\"flex\",marginBottom:10}},v(\"div\",{style:{flexGrow:1}},v(p.a,{variant:\"h6\",color:\"secondary\"},t.trainingTitle),v(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},v(\"strong\",null,\"Program:\"),\" \",t.programTitle,\", \\xa0\",v(\"strong\",null,\"Plan:\"),\" \",t.planTitle,\", \\xa0\",v(\"strong\",null,\"Session:\"),\" \",t.sessionTitle,\" (\",t.sessionStatus,\")\")),v(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},v(\"div\",null,v(\"strong\",null,\"Status:\")),v(p.a,{variant:\"body2\",style:{color:\"Pending\"===t.enrollmentStatus?\"orange\":\"Rejected\"===t.enrollmentStatus?\"red\":\"Approved\"===t.enrollmentStatus?\"green\":\"gray\"}},t.enrollmentStatus)))}var f=s.a.createElement;function g(n){var t=n.enrollment,e=n.onSelect;return f(\"div\",{onClick:function(){return e()},style:{cursor:\"pointer\"}},f(y,{enrollment:t}))}var h=e(\"Z3vd\"),T=e(\"IQpg\"),b=e.n(T),x=s.a.createElement;function S(n){var t=n.bill;return x(m.a,{style:{padding:10,marginBottom:10}},x(\"div\",{style:{display:\"flex\",paddingBottom:5,marginBottom:10,borderBottom:\"1px solid #DFDFDF\"}},x(\"div\",{style:{flexGrow:1}},x(p.a,{variant:\"body1\",color:\"secondary\"},t.description),x(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},x(\"strong\",null,\"Fee type:\"),\" \",t.feeType,\", \\xa0\",x(\"strong\",null,\"Amount:\"),\" \",t.amount,\" \\xa0\",t.deadline&&\"NotPaid\"===t.status&&x(\"span\",null,x(\"strong\",null,\", Deadline:\"),\" \",t.deadline))),x(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},x(\"strong\",null,\"Status:\"),\" \\xa0\",x(p.a,{variant:\"body2\",style:{color:\"Paid\"===t.status?\"green\":\"red\",display:\"inline\"}},t.status),\" \\xa0\",x(h.a,{size:\"small\",variant:\"contained\",color:\"secondary\"},x(b.a,null),\" \\xa0 Print Bill\"))),x(\"div\",{style:{color:\"#808080\",marginBottom:5}},x(\"strong\",null,\"Payments\")),t.payments.length>0?t.payments.map(function(n){return x(\"div\",{style:{display:\"flex\",padding:\"5px 0px\",borderTop:\"1px solid #DFDFDF\",color:\"#808080\",fontSize:\"9pt\"}},x(\"div\",{style:{flexGrow:1}},x(\"strong\",null,\"Amount:\"),\" \",n.amount,\", \\xa0\",x(\"strong\",null,\"Date:\"),\" \",n.date),x(h.a,{size:\"small\",variant:\"contained\",color:\"secondary\"},x(b.a,null),\" \\xa0 Print Receipt\"))}):x(\"div\",{style:{padding:\"10px 0px\"}},\"(No payment)\"),x(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\",paddingTop:5,marginTop:10,borderTop:\"1px solid #DFDFDF\",textAlign:\"right\"}},x(\"strong\",null,\"Total paid:\"),\" \",t.payments.map(function(n){return n.amount}).reduce(function(n,t){return n+t},0),\", \\xa0\",x(\"strong\",null,\"Remaining:\"),\" \",x(\"span\",{style:{color:\"orange\"}},Math.max(0,t.amount-t.payments.map(function(n){return n.amount}).reduce(function(n,t){return n+t},0)))))}var w=s.a.createElement;function I(n){var t=n.enrollment;return w(\"div\",null,w(y,{enrollment:t}),w(p.a,{variant:\"h6\",color:\"textSecondary\",style:{marginBottom:10}},\"Bills\"),t.bills.map(function(n){return w(S,{bill:n,key:n.billId})}))}var z=e(\"/muT\"),B=e(\"Dq7+\"),P=s.a.createElement;function D(){var n=Object(a.a)([\"\\n  query getMyTrainings($accountId: ID!) {\\n    enrollments(accountId: $accountId) {\\n      enrollmentId\\n      enrollmentStatus\\n      sessionTitle\\n      trainingTitle\\n      planTitle\\n      programTitle\\n      departmentTitle\\n      startDate\\n      duration\\n      sessionStatus\\n      bills {\\n        billId\\n        feeType\\n        description\\n        amount\\n        status\\n        payments { paymentId amount date }\\n      }\\n    }\\n  }\\n\"]);return D=function(){return n},n}var k=Object(c.a)(D());function F(n){var t=n.enrollments,e=n.onSelect;return P(\"div\",{style:{marginTop:15}},P(p.a,{variant:\"h5\",color:\"textSecondary\",style:{marginBottom:10}},\"My Trainings\"),t.map(function(n){return P(g,{enrollment:n,onSelect:function(){return e(n)}})}))}function H(n){var t=n.enrollment,e=n.onBack;return P(\"div\",null,P(\"div\",{style:{marginTop:15,marginBottom:10,display:\"flex\"}},P(\"div\",{style:{flexGrow:1}},P(h.a,{onClick:function(){return e()},size:\"small\"},\"Back to list\")),P(\"div\",{style:{flexGrow:1,textAlign:\"right\"}},P(h.a,{onClick:function(){return e()},size:\"small\",disabled:\"Completed\"!==t.enrollmentStatus,variant:\"contained\",color:\"secondary\"},P(b.a,null),\" \\xa0 Print Certificate\"))),P(I,{enrollment:t}))}function M(n){var t=n.enrollments,e=Object(i.useState)(null),r=e[0],l=e[1];return P(u.a,{title:\"My Trainings - IMIT\"},P(d.a,null,r?P(H,{enrollment:r,onBack:function(){return l(null)}}):P(F,{enrollments:t,onSelect:function(n){return l(n)}})))}M.getInitialProps=function(){var n=Object(o.a)(l.a.mark(function n(t){var e,r,o,a,i;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.apolloClient,r=t.token,o=t.currentUser,n.next=3,e.query({query:k,variables:{accountId:o.id},context:{headers:{schoolman_token:r}}});case 3:return a=n.sent,i=a.data.enrollments,n.abrupt(\"return\",{enrollments:i,authRequired:!0});case 6:case\"end\":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}();t.default=Object(z.a)(Object(B.a)(M))},IQpg:function(n,t,e){\"use strict\";var r=e(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var l=r(e(\"q1tI\")),o=(0,r(e(\"8/g6\")).default)(l.default.createElement(\"path\",{d:\"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z\"}),\"PictureAsPdf\");t.default=o},\"LR/m\":function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/myTrainings\",function(){return e(\"1rew\")}])}},[[\"LR/m\",1,0]]]);"}