{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"1rew\":function(n,t,e){\"use strict\";e.r(t);var r=e(\"ln6h\"),l=e.n(r),o=e(\"rt45\"),a=e(\"q1tI\"),i=e.n(a),s=e(\"rbhw\"),u=e(\"LIIV\"),c=e(\"BMua\"),d=e(\"kKAo\"),m=e(\"ofer\"),p=i.a.createElement;function v(n){var t=n.enrollment;return p(d.a,{style:{padding:10,display:\"flex\",marginBottom:10}},p(\"div\",{style:{flexGrow:1}},p(m.a,{variant:\"h6\",color:\"secondary\"},t.trainingTitle),p(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},p(\"strong\",null,\"Program:\"),\" \",t.programTitle,\", \\xa0\",p(\"strong\",null,\"Plan:\"),\" \",t.planTitle,\", \\xa0\",p(\"strong\",null,\"Session:\"),\" \",t.sessionTitle,\" (\",t.sessionStatus,\")\")),p(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},p(\"div\",null,p(\"strong\",null,\"Status:\")),p(m.a,{variant:\"body2\",style:{color:\"Pending\"===t.enrollmentStatus?\"orange\":\"Rejected\"===t.enrollmentStatus?\"red\":\"Approved\"===t.enrollmentStatus?\"green\":\"gray\"}},t.enrollmentStatus)))}var y=i.a.createElement;function f(n){var t=n.enrollment,e=n.onSelect;return y(\"div\",{onClick:function(){return e()},style:{cursor:\"pointer\"}},y(v,{enrollment:t}))}var g=e(\"Z3vd\"),T=e(\"IQpg\"),h=e.n(T),b=i.a.createElement;function x(n){var t=n.bill;return b(d.a,{style:{padding:10,marginBottom:10}},b(\"div\",{style:{display:\"flex\",paddingBottom:5,marginBottom:10,borderBottom:\"1px solid #DFDFDF\"}},b(\"div\",{style:{flexGrow:1}},b(m.a,{variant:\"body1\",color:\"secondary\"},t.description),b(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},b(\"strong\",null,\"Fee type:\"),\" \",t.feeType,\", \\xa0\",b(\"strong\",null,\"Amount:\"),\" \",t.amount,\" \\xa0\",t.deadline&&\"NotPaid\"===t.status&&b(\"span\",null,b(\"strong\",null,\", Deadline:\"),\" \",t.deadline))),b(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\"}},b(\"strong\",null,\"Status:\"),\" \\xa0\",b(m.a,{variant:\"body2\",style:{color:\"Paid\"===t.status?\"green\":\"red\",display:\"inline\"}},t.status),\" \\xa0\",b(g.a,{size:\"small\",variant:\"contained\",color:\"secondary\"},b(h.a,null),\" \\xa0 Print Bill\"))),b(\"div\",{style:{color:\"#808080\",marginBottom:5}},b(\"strong\",null,\"Payments\")),t.payments.length>0?t.payments.map((function(n){return b(\"div\",{style:{display:\"flex\",padding:\"5px 0px\",borderTop:\"1px solid #DFDFDF\",color:\"#808080\",fontSize:\"9pt\"}},b(\"div\",{style:{flexGrow:1}},b(\"strong\",null,\"Amount:\"),\" \",n.amount,\", \\xa0\",b(\"strong\",null,\"Date:\"),\" \",n.date),b(g.a,{size:\"small\",variant:\"contained\",color:\"secondary\"},b(h.a,null),\" \\xa0 Print Receipt\"))})):b(\"div\",{style:{padding:\"10px 0px\"}},\"(No payment)\"),b(\"div\",{style:{color:\"#808080\",fontSize:\"9pt\",paddingTop:5,marginTop:10,borderTop:\"1px solid #DFDFDF\",textAlign:\"right\"}},b(\"strong\",null,\"Total paid:\"),\" \",t.payments.map((function(n){return n.amount})).reduce((function(n,t){return n+t}),0),\", \\xa0\",b(\"strong\",null,\"Remaining:\"),\" \",b(\"span\",{style:{color:\"orange\"}},Math.max(0,t.amount-t.payments.map((function(n){return n.amount})).reduce((function(n,t){return n+t}),0)))))}var S=i.a.createElement;function w(n){var t=n.enrollment;return S(\"div\",null,S(v,{enrollment:t}),S(m.a,{variant:\"h6\",color:\"textSecondary\",style:{marginBottom:10}},\"Bills\"),t.bills.map((function(n){return S(x,{bill:n,key:n.billId})})))}var I=e(\"/muT\"),z=e(\"Dq7+\"),B=i.a.createElement;function P(){var n=Object(o.a)([\"\\n  query getMyTrainings($accountId: ID!) {\\n    enrollments(accountId: $accountId) {\\n      enrollmentId\\n      enrollmentStatus\\n      sessionTitle\\n      trainingTitle\\n      planTitle\\n      programTitle\\n      departmentTitle\\n      startDate\\n      duration\\n      sessionStatus\\n      bills {\\n        billId\\n        feeType\\n        description\\n        amount\\n        status\\n        payments { paymentId amount date }\\n      }\\n    }\\n  }\\n\"]);return P=function(){return n},n}var D=Object(u.a)(P());function k(n){var t=n.enrollments,e=n.onSelect;return B(\"div\",{style:{marginTop:15}},B(m.a,{variant:\"h5\",color:\"textSecondary\",style:{marginBottom:10}},\"My Trainings\"),t.map((function(n){return B(f,{enrollment:n,onSelect:function(){return e(n)}})})))}function F(n){var t=n.enrollment,e=n.onBack;return B(\"div\",null,B(\"div\",{style:{marginTop:15,marginBottom:10,display:\"flex\"}},B(\"div\",{style:{flexGrow:1}},B(g.a,{onClick:function(){return e()},size:\"small\"},\"Back to list\")),B(\"div\",{style:{flexGrow:1,textAlign:\"right\"}},B(g.a,{onClick:function(){return e()},size:\"small\",disabled:\"Completed\"!==t.enrollmentStatus,variant:\"contained\",color:\"secondary\"},B(h.a,null),\" \\xa0 Print Certificate\"))),B(w,{enrollment:t}))}function H(n){var t=n.enrollments,e=Object(a.useState)(null),r=e[0],l=e[1];return B(s.a,{title:\"My Trainings - IMIT\"},B(c.a,null,r?B(F,{enrollment:r,onBack:function(){return l(null)}}):B(k,{enrollments:t,onSelect:function(n){return l(n)}})))}H.getInitialProps=function(n){var t,e,r,o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.apolloClient,e=n.token,r=n.currentUser,i.next=3,l.a.awrap(t.query({query:D,variables:{accountId:r.id},context:{headers:{schoolman_token:e}}}));case 3:return o=i.sent,a=o.data.enrollments,i.abrupt(\"return\",{enrollments:a,authRequired:!0});case 6:case\"end\":return i.stop()}}))};t.default=Object(I.a)(Object(z.a)(H))},IQpg:function(n,t,e){\"use strict\";var r=e(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var l=r(e(\"q1tI\")),o=(0,r(e(\"8/g6\")).default)(l.default.createElement(\"path\",{d:\"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z\"}),\"PictureAsPdf\");t.default=o},\"LR/m\":function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/myTrainings\",function(){return e(\"1rew\")}])}},[[\"LR/m\",1,0]]]);"}